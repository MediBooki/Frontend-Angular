<div class="m-4 p-3 bg-white rounded animate">
  <h2 class="fw-bold text-center">{{'patientProfile.sidenav3' | translate}}</h2>
  <div *ngIf="!insuranceExist; else showInsurance">
    <div class="py-3"><img class="insurance-img" src="../../../assets/images/Patient_Profile/Insurance.png" alt="Insurance image"/></div>
    <p>{{'patientProfile.tap3h' | translate}}</p>
    <form [formGroup]="addInsuranceForm" (ngSubmit)="addInsuranceFun()">
        <div class="row">
          <div class="pb-2 col-md-6 px-2">
            <label>{{'patientProfile.tap3input1' | translate}}</label>
            <select formControlName="company_id" class="form-select bg-light-gray" aria-label="Default select example">
              <option *ngFor="let item of allInsurance" [value]="item.id">{{item.name}}</option>
            </select>
          </div>
          <div class="pb-2 col-md-6 px-2">
            <label>{{'patientProfile.tap3input2' | translate}}</label>
            <input formControlName="insurance_number" type="text" class="form-control bg-light-gray" />
          </div>
          <div class="pb-2 col-md-6 px-2">
            <label>{{'patientProfile.tap3input3' | translate}}</label>
            <input formControlName="expiry_date" type="date" class="form-control bg-light-gray" />
          </div>
        </div>
        <div class="d-flex justify-content-center">
          <input type="submit" class="btn btn-main border-0" [disabled]="addInsuranceForm.invalid">
        </div >
    </form>
  </div>

  <ng-template #showInsurance>
    <div *ngIf="patientInsurance.id != 0">
      <div class="d-flex justify-content-between align-items-center">
        <div class="py-3 d-flex align-items-center">
          <img class="insurance-img" src="../../../assets/images/Patient_Profile/Insurance.png" alt="Insurance image"/>
          <span class="insurance-name fw-bold">{{patientInsurance.name}}</span>
        </div>
        <h5>{{'patientProfile.tap3info1' | translate}}:- <span class="fw-bold">{{insurance_number}}</span></h5>

      </div>
      
    <div class="row my-4 mx-2">
      <div class="col-md-6 my-2">
        <div class="inurance-discount">
          <!-- <h2>{{patientInsurance.discount_percentage}}</h2> -->
          <!-- <div class="progress" role="progressbar" aria-label="Info example"  aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-info" style="width: 50%"></div>
          </div> -->

          <span>{{'patientProfile.tap3info2' | translate}}:- </span>
          <div class="progress w-100 mt-2">
            <div class="progress-bar" role="progressbar" aria-label="Info example" style="width: {{patientInsurance.company_rate}}%" aria-valuemin="0" aria-valuemax="100">{{patientInsurance.company_rate}}%</div>
          </div>
          
        </div>
      </div>
      <div class="col-md-6 my-2">
        <div class="hospital-discount">
          <!-- <h2>{{patientInsurance.company_rate}}</h2> -->
          <span>{{'patientProfile.tap3info3' | translate}}:- </span>

          <div class="progress w-100 mt-2">
            <div class="progress-bar" role="progressbar" aria-label="Info example" style="width: {{patientInsurance.discount_percentage}}%"  aria-valuemin="0" aria-valuemax="100">{{patientInsurance.discount_percentage}}%</div>
          </div>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-between align-items-center my-4 insurance-result">
      <h2 class="d-flex align-items-center">{{'patientProfile.tap3info4' | translate}}:-  <span class="total-discount text-success fw-bold mx-1">{{totalDiscount}}%</span></h2>
      <h5>{{'patientProfile.tap3input3' | translate}}:- <span class="fw-bold">{{insurance_date}}</span></h5>
    </div>
    </div>







    <div *ngIf="patientInsurance.id == 0">
      <div class="d-flex justify-content-between align-items-center">
        <div class="py-3 d-flex align-items-center ggg">
          <img class="insurance-img" src="../../../assets/images/Patient_Profile/Insurance.png"/>
          <!-- <span class="insurance-name fw-bold">{{patientInsurance.name}}</span> -->
          <div class="col-8">
            <ngx-skeleton-loader appearance="line" [theme]="{background: '#dbd9d9', marginBottom: '-6px'}"></ngx-skeleton-loader>
          </div>
        </div>
        <div class="col-md-2 col-5">
          <ngx-skeleton-loader appearance="line" [theme]="{background: '#dbd9d9', marginBottom: '-6px'}"></ngx-skeleton-loader>
        </div>

      </div>
      
    <div class="row my-4 d-flex justify-content-between">
          <div class="col-md-5 col-12 my-2">
            <ngx-skeleton-loader appearance="line" [theme]="{height: '66px', background: '#dbd9d9', marginBottom: '-6px'}"></ngx-skeleton-loader>
          </div>

        <div class="col-md-5 col-12 my-2">
          <ngx-skeleton-loader appearance="line" [theme]="{height: '66px', background: '#dbd9d9', marginBottom: '-6px'}"></ngx-skeleton-loader>
        </div>
    </div>

    <div class="d-flex justify-content-between align-items-center my-4">
      <div class="col-4">
        <ngx-skeleton-loader appearance="line" [theme]="{background: '#dbd9d9', marginBottom: '-6px'}"></ngx-skeleton-loader>
      </div>
      <div class="col-4">
        <ngx-skeleton-loader appearance="line" [theme]="{background: '#dbd9d9', marginBottom: '-6px'}"></ngx-skeleton-loader>
      </div>
    </div>
    </div>
  </ng-template>

  <div>

  </div>
</div>

